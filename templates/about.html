
{% extends "base.html" %} {% block content %}
<div class="about-page">
  <h1>Let us know you better :)</h1>
  <div class="about-outer">
    <img src="../static/images/about.png" alt="about-page" />
    <section class="about-form">
      <form id="container" action="/about" method="post">
        <div class="about-card">
          <h2>About Me</h2>
          <input
            class="input0"
            type="text"
            name="name"
            id="name"
            placeholder="Name"
            required
          />
          <input
            class="input0"
            type="number"
            name="age"
            id="age"
            placeholder="Age"
            required
          />
          <input
            class="input0"
            type="text"
            name="sex"
            id="sex"
            placeholder="Sex"
            required
          />
          <button class="about-form-btn form-next">Next</button>
        </div>
        <div class="about-card">
          <h2>Think about your surroundings. Is there a particular place or environment where you feel especially at ease? </h2>
          <textarea
            name="calm"
            id="calm"
            placeholder="Write here..."
          ></textarea>
          <button class="about-form-btn form-next">Next</button>
        </div>
        <div class="about-card">
          <h2>What hobbies or activities make you feel engaged? </h2>
          <textarea
            name="hobby"
            id="hobby"
            placeholder="Write here..."
          ></textarea>
          <button class="about-form-btn form-next">Next</button>
        </div>
        <div class="about-card">
          <h2>Think about the people in your life. Who do you feel most comfortable around? What is it about their presence or actions that brings you comfort?</h2>
          <textarea
            name="person"
            id="person"
            placeholder="Write here..."
          ></textarea>
          <button class="about-form-btn submit-btn">Submit</button>
        </div>
      </form>
    </section>
  </div>
</div>

<script>
  let currentCard = 0;
  const cards = document.getElementsByClassName("about-card");
  const container = document.getElementById("container");
  const totalCards = cards.length;

  const arr = [...document.getElementsByClassName("form-next")];
  arr.forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const inputs = [
        ...container.getElementsByClassName(`input${currentCard}`),
      ];
      const valid = true;
      inputs.forEach((elem) => {
        if (!elem.checkValidity()) valid = false;
      });

      if (!valid) return;

      e.preventDefault();

      if (currentCard < totalCards - 1) {
        currentCard++;
        container.style.transform = `translateX(-${currentCard * 100}%)`;
      }
    });
  });

  const autogrow = (elem) => {
    elem.style.height = elem.scrollHeight + "px";
  };
</script>

{% endblock %}
